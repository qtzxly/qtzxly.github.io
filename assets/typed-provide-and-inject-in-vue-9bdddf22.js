import{u as l,c as o,w as r,_ as t,o as c,a as s,d as e}from"./app-b266d4ec.js";const p=s("div",{class:"prose m-auto slide-enter-content"},[s("p",null,[e("I didn’t know that you can type "),s("code",null,"provide()"),e(" and "),s("code",null,"inject()"),e(" elegantly until I watched "),s("a",{href:"https://github.com/LinusBorg/",target:"_blank",rel:"noopener"},"Thorsten Lünborg"),e("’s talk on "),s("a",{href:"https://vuejs.amsterdam/",target:"_blank",rel:"noopener"},"Vue Amsterdam"),e(".")]),s("p",null,[e("The basic idea here is the Vue offers a type utility "),s("code",null,"InjectionKey"),e(" will you can type a Symbol to hold the type of your injection values. And when you use "),s("code",null,"provide()"),e(" and "),s("code",null,"inject()"),e(" with that symbol, it can infer the type of provider and return value automatically.")]),s("p",null,"For example:"),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark",style:{"background-color":"#ffffff","--s-dark-bg":"#121212",color:"#393a34","--s-dark":"#dbd7caee"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0","--s-dark":"#758575DD"}},"// context.ts")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"import"),s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}}," type"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," {"),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}}," InjectionKey"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," }"),s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}}," from"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}}," '"),s("span",{style:{color:"#B56959","--s-dark":"#C98A7D"}},"vue"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"export"),s("span",{style:{color:"#AB5959","--s-dark":"#CB7676"}}," interface"),s("span",{style:{color:"#2E8F82","--s-dark":"#5DA994"}}," UserInfo"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"  id"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},": "),s("span",{style:{color:"#2E8F82","--s-dark":"#5DA994"}},"number")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"  name"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},": "),s("span",{style:{color:"#2E8F82","--s-dark":"#5DA994"}},"string")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999","--s-dark":"#666666"}},"}")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"export"),s("span",{style:{color:"#AB5959","--s-dark":"#CB7676"}}," const "),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"InjectKeyUser"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},": "),s("span",{style:{color:"#2E8F82","--s-dark":"#5DA994"}},"InjectionKey"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"<"),s("span",{style:{color:"#2E8F82","--s-dark":"#5DA994"}},"UserInfo"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"> ="),s("span",{style:{color:"#59873A","--s-dark":"#80A665"}}," Symbol"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"()")]),e(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark",style:{"background-color":"#ffffff","--s-dark-bg":"#121212",color:"#393a34","--s-dark":"#dbd7caee"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0","--s-dark":"#758575DD"}},"// parent.vue")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"import"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," {"),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}}," provide"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," }"),s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}}," from"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}}," '"),s("span",{style:{color:"#B56959","--s-dark":"#C98A7D"}},"vue"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"import"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," {"),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}}," InjectKeyUser"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," }"),s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}}," from"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}}," '"),s("span",{style:{color:"#B56959","--s-dark":"#C98A7D"}},"./context"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"export"),s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}}," default"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A","--s-dark":"#80A665"}},"  setup"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"() {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A","--s-dark":"#80A665"}},"    provide"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"("),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"InjectKeyUser"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},", {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#998418","--s-dark":"#B8A965"}},"      id"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},": "),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'"),s("span",{style:{color:"#B56959","--s-dark":"#C98A7D"}},"117"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},", "),s("span",{style:{color:"#A0ADA0","--s-dark":"#758575DD"}},"// type error: should be number")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#998418","--s-dark":"#B8A965"}},"      name"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},": "),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'"),s("span",{style:{color:"#B56959","--s-dark":"#C98A7D"}},"Anthony"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},",")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999","--s-dark":"#666666"}},"    })")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999","--s-dark":"#666666"}},"  },")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999","--s-dark":"#666666"}},"}")]),e(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark",style:{"background-color":"#ffffff","--s-dark-bg":"#121212",color:"#393a34","--s-dark":"#dbd7caee"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A0ADA0","--s-dark":"#758575DD"}},"// child.vue")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"import"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," {"),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}}," inject"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," }"),s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}}," from"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}}," '"),s("span",{style:{color:"#B56959","--s-dark":"#C98A7D"}},"vue"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"import"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," {"),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}}," InjectKeyUser"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," }"),s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}}," from"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}}," '"),s("span",{style:{color:"#B56959","--s-dark":"#C98A7D"}},"./context"),s("span",{style:{color:"#B5695999","--s-dark":"#C98A7D99"}},"'")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"export"),s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}}," default"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#59873A","--s-dark":"#80A665"}},"  setup"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"() {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AB5959","--s-dark":"#CB7676"}},"    const "),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"user"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," ="),s("span",{style:{color:"#59873A","--s-dark":"#80A665"}}," inject"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"("),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"InjectKeyUser"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},")"),s("span",{style:{color:"#A0ADA0","--s-dark":"#758575DD"}}," // UserInfo | undefined")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#1E754F","--s-dark":"#4D9375"}},"    if"),s("span",{style:{color:"#999999","--s-dark":"#666666"}}," ("),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"user"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},")")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"      console"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"."),s("span",{style:{color:"#59873A","--s-dark":"#80A665"}},"log"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"("),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"user"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},"."),s("span",{style:{color:"#B07D48","--s-dark":"#BD976A"}},"name"),s("span",{style:{color:"#999999","--s-dark":"#666666"}},") "),s("span",{style:{color:"#A0ADA0","--s-dark":"#758575DD"}},"// Anthony")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999","--s-dark":"#666666"}},"  },")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#999999","--s-dark":"#666666"}},"}")]),e(`
`),s("span",{class:"line"})])]),s("p",null,[e("See "),s("a",{href:"https://v3.vuejs.org/api/composition-api.html#provide-inject",target:"_blank",rel:"noopener"},"the docs"),e(" for more details.")])],-1),A={__name:"typed-provide-and-inject-in-vue",setup(d){const a={title:"Typed Provide and Inject in Vue",date:"2021-03-05T16:00:00.000Z",lang:"en",duration:"8min",image:"https://antfu.me/og/typed-provide-and-inject-in-vue.png",meta:[{property:"og:title",content:"Typed Provide and Inject in Vue"},{name:"twitter:title",content:"Typed Provide and Inject in Vue"},{property:"og:image",content:"https://antfu.me/og/typed-provide-and-inject-in-vue.png"},{name:"twitter:image",content:"https://antfu.me/og/typed-provide-and-inject-in-vue.png"},{name:"twitter:card",content:"summary_large_image"}]};return l({title:"Typed Provide and Inject in Vue",meta:[{property:"og:title",content:"Typed Provide and Inject in Vue"},{name:"twitter:title",content:"Typed Provide and Inject in Vue"},{property:"og:image",content:"https://antfu.me/og/typed-provide-and-inject-in-vue.png"},{name:"twitter:image",content:"https://antfu.me/og/typed-provide-and-inject-in-vue.png"},{name:"twitter:card",content:"summary_large_image"}]}),(y,k)=>{const n=t;return c(),o(n,{frontmatter:a},{default:r(()=>[p]),_:1})}}};export{A as default};
