<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="author" content="Anthony Fu"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="revisit-after" content="7 days"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="alternate" type="application/rss+xml" title="Anthony Fu's Blog" href="/feed.xml"><meta name="msapplication-TileColor" content="#ffffff"><title>Develop with Vite - Vue Beijing</title><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" crossorigin="" src="/assets/app-b266d4ec.js"></script><link rel="stylesheet" href="/assets/index-35df0ee3.css"><link rel="modulepreload" crossorigin="" href="/assets/vue-beijing-2021-60673511.js"><meta property="og:title" content="Develop with Vite - Vue Beijing"><meta name="twitter:title" content="Develop with Vite - Vue Beijing"><meta property="og:image" content="https://antfu.me/og/vue-beijing-2021.png"><meta name="twitter:image" content="https://antfu.me/og/vue-beijing-2021.png"><meta name="twitter:card" content="summary_large_image"></head><body class="font-sans text-gray-700 dark:text-gray-200 relative"><div id="app" data-server-rendered="true"><!--[--><header class="header z-40" data-v-c71fdd88=""><a href="/" class="w-12 h-12 absolute xl:fixed m-5 select-none outline-none" focusable="false" data-v-c71fdd88=""><svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-c71fdd88="" data-v-c91eafce=""><title data-v-c91eafce="">Anthony Fu @ antfu.me</title><mask id="mask0_634_3" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="24" y="7" width="50" height="87" data-v-c91eafce=""><path d="M73.7892 9.12595C69.3501 1.20478 61.8262 17.7197 60.2461 21.1572C56.9356 28.6299 55.2305 35.5788 53.5 43.5C51.5438 41.4076 48.5048 36.8913 47 34.5C46 32.5 44.178 33.3348 45.2582 35.5C44.2048 33.7065 44 31 40.4582 28.8541C31.3543 28.0321 23.7209 43.6536 25 51.5C28.5029 62.7044 40 53 42.8659 47.9845C42.5649 50.8241 42.5649 54.7847 45.424 56.1298C48.5 57 49.8631 54.9342 51.8194 52.9913C50.6908 64.7236 49.2612 76.9042 53.1737 88.4123C54.9794 94.9884 61.3747 96.6324 62.0519 88.5618C62.9547 78.5482 60.4719 68.7589 57.4623 59.3431C56.6347 56.6529 55.5 54.5 54.6886 51.7956C54.6886 48 55.6585 50.6972 57.0861 52.244C58.7413 54.0375 64.309 59.3431 66.5 59.5C65 57.5 64.5348 56.8771 64.309 56.6529C61.9014 53.6638 59.0423 50.8989 56.4842 47.9845C61.6757 40.5117 66.7167 32.3663 70.1777 23.7726C71.6825 19.3637 74.8425 13.7591 73.7892 9.12595ZM43.3926 40.8853C41.7373 45.4437 39.7811 48.956 35.9439 52.0945C26.1502 60.1051 25.1428 47.741 28.6457 41.8568C33.16 32.4411 42.7154 24.0715 43.3926 40.8853ZM52.5 49C51.2962 50.7187 49.5314 53.3274 47.5 54C45.8447 54.4484 45.3488 53.2902 45.0478 51.7956C44.145 46.8636 45.725 42.0063 46.4021 37.2237C48.0574 40.3622 50.119 42.8614 52 46C52.3762 46.822 53.0267 48.1033 52.5 49ZM55.1299 56.1298C58.3652 65.9192 60.5471 76.1569 59.6442 86.3947C58.7413 95.362 55.8823 88.8607 54.7537 84.3023C52.4213 74.2887 53 63.5 54.227 53.8133C54.528 54.5606 54.9042 55.6067 55.1299 56.1298ZM71.4568 11.1436C69.8767 21.755 62.0519 36.7006 55.4308 45.0701C56.7851 38.0457 58.7413 31.2454 61.45 24.5946C61.6757 23.2495 71.6072 3.52135 71.4568 11.1436Z" fill="white" data-v-c91eafce=""></path></mask><g mask="url(#mask0_634_3)" data-v-c91eafce=""><path class="path1" d="M43.8252 39.3048C43.5 29 38 27 31 35.5C16.9959 58.4158 35 61 42.5 46C44.4559 42.5 45.5001 37 45.5001 37C44.8789 42.2731 43.8252 45.9801 43.8252 50C43.8252 56.6285 48 57.9 54.5 48.4C60.5 40.9 68.5 27.5 72 15.5C74.4792 7 70.5 4.5 64 16.5C55 31.5 50.7595 59 52.3 78C53.8038 96.5469 63 97.5 61 79.5C59.5082 66.0734 52 42.5 45.5001 33C48 38.5 57 52 65.5 58.5" stroke="black" stroke-width="2.5" stroke-linecap="round" data-v-c91eafce=""></path></g></svg></a><button title="Scroll to top" fixed="" right-3="" bottom-3="" w-10="" h-10="" hover:op100="" rounded-full="" hover-bg-hex-8883="" transition="" duration-300="" z-100="" print:hidden="" class="op0! pointer-events-none" data-v-c71fdd88=""><div i-ri-arrow-up-line="" data-v-c71fdd88=""></div></button><nav class="nav" data-v-c71fdd88=""><div class="spacer" data-v-c71fdd88=""></div><div class="right" print:op0="" data-v-c71fdd88=""><a href="/posts" class="" title="Blog" data-v-c71fdd88=""><span class="lt-md:hidden" data-v-c71fdd88="">Blog</span><div i-ri-article-line="" md:hidden="" data-v-c71fdd88=""></div></a><a href="/projects" class="" title="Projects" data-v-c71fdd88=""><span class="lt-md:hidden" data-v-c71fdd88="">Projects</span><div i-ri-lightbulb-line="" class="md:hidden" data-v-c71fdd88=""></div></a><a href="/talks" class="lt-md:hidden" title="Talks" data-v-c71fdd88="">Talks </a><a href="/podcasts" class="lt-md:hidden" title="Podcasts" data-v-c71fdd88="">Podcasts </a><a href="/demos" class="" title="Demos" data-v-c71fdd88=""><span class="lt-md:hidden" data-v-c71fdd88="">Demos</span><div i-ri-screenshot-line="" class="md:hidden" data-v-c71fdd88=""></div></a><a href="/chat" class="" title="Let's Chat" data-v-c71fdd88=""><div i-ri-chat-1-line="" data-v-c71fdd88=""></div></a><a href="/sponsors-list" class="" title="Sponsors" data-v-c71fdd88=""><div i-ri-user-heart-line="" data-v-c71fdd88=""></div></a><a href="https://twitter.com/antfu7" target="_blank" title="Twitter" class="lt-md:hidden" data-v-c71fdd88=""><svg style="vertical-align:sub" class="inline" viewBox="0 0 24 24" width="1.2em" height="1.2em" data-v-c71fdd88=""><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M23 3a10.9 10.9 0 0 1-3.14 1.53a4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://github.com/antfu" target="_blank" title="GitHub" class="lt-md:hidden" data-v-c71fdd88=""><div i-uil-github-alt="" data-v-c71fdd88=""></div></a><a href="/feed.xml" target="_blank" title="RSS" class="lt-md:hidden" data-v-c71fdd88=""><div i-la-rss-square="" style="font-size:1.25rem;margin:0 -.125rem" data-v-c71fdd88=""></div></a><a class="select-none" title="Toggle Color Scheme" data-v-c71fdd88=""><div i-ri-sun-line="" dark:i-ri-moon-line=""></div></a></div></nav></header><main class="px-7 py-10 of-x-hidden"><!--[--><!----><div class="prose m-auto mb-8"><h1 class="mb-0 slide-enter-50">Develop with Vite - Vue Beijing</h1><p class="opacity-50 !-mt-6 slide-enter-50">Mar 29, 2021 <span>· 18min</span></p><!----><!----></div><article class=""><!--[--><div class="prose m-auto slide-enter-content"><blockquote><p>This is the transcript of my talk at <a href="https://twitter.com/beijing_vue" target="_blank" rel="noopener">Vue Beijing</a></p><p>Slides: <a href="https://antfu.me/talks/2021-03-28/en" target="_blank" rel="noopener">English ver.</a> | <a href="https://antfu.me/talks/2021-03-28/zh" target="_blank" rel="noopener">中文 ver.</a></p><p>Recording: <a href="https://www.youtube.com/watch?v=xx8gEHet6n8" target="_blank" rel="noopener">YouTube (English)</a></p></blockquote><p>I guess many of you have already heard about <a href="https://github.com/vitejs/vite" target="_blank" rel="noopener">Vite</a>, as the next thing replacing other bundlers like Webpack. Well, it’s actually not 100% true. While we are used to "Build with Webpack", and now, more precisely, we are <strong>Developing with Vite</strong>.</p><p>Today I am going to present you with a brief introduction to Vite, the next-generation development tools. And I believe you will find out the answer after it.</p><h2 id="what-is-vite" tabindex="-1">What is Vite? <a class="header-anchor" href="#what-is-vite" aria-hidden="true">#</a></h2><p>Vite is a French word meaning fast. The initial motivation of it is that Evan You, the creator of Vue, got an idea of making a dev server with hot reload for Vue Single File Component without a bundler. And yeah, after a few days, Vite comes out.</p><p>With the name of fast, it has to be fast. And it is.</p><p>Let me show you a quick <a href="https://twitter.com/amasad/status/1355379680275128321" target="_blank" rel="noopener">demonstration of how fast it is</a>. On the left-hand side, we have Create React App, and on the right we have Vite. And you can see during I am introducing to them, the Vite app is already ready and playable, while the other one just finishes installing its dependencies. In this demo, we can see we have over 4x faster boot-up speed improvement over Create React App, on the single component starter template. And actually, it’s not even showing the full potential of Vite.</p><p>So how could Vite be so fast?</p><p>First, Vite is opinionated on providing better DX. It assumes that you are using modern browsers for development, so we don’t need to have complex transpiling and polyfills involved. Also since your browser already understands Native ES module, we can even skip the bundling process and let the browser do it for us. We also involved with some optimizations to make it even faster, which I will go through them later.</p><p>We have a build mode for production powered by rollup. The difference between development and production make Vite capable of having good experiences for both of them.</p><h3 id="the-dev-server" tabindex="-1">The Dev Server <a class="header-anchor" href="#the-dev-server" aria-hidden="true">#</a></h3><p>In a traditional bundle-based dev server, when we start the server, it will bundle your entire app and the server is ready only until the bundling is finished. In a large-scale app, it could take quite a lot of time.</p><p>Native ESM bases server, on the other hand, does need to do the bundling at all. The server is ready immediately and it will only transpile the modules of the pages you have opened on-demanded. So even you have a huge app with thousands of pages, it will be constantly fast as it only needs to transpile the modules for one page.</p><p>The transpling is powered by <a href="https://github.com/evanw/esbuild" target="_blank" rel="noopener">esbuild</a>. It is a transpiler and bundler written in Go and build to native code. It is optimized with speed in mind and utilizes the potential of parallelism. It claims that it can be 10-100x faster than the traditional build tools.</p><p>With the support <a href="https://github.com/evanw/esbuild" target="_blank" rel="noopener">esbuild</a>, we are able to support JSX, TypeScript out-of-the-box.</p><h3 id="dependencies-pre-bundling" tabindex="-1">Dependencies Pre-bundling <a class="header-anchor" href="#dependencies-pre-bundling" aria-hidden="true">#</a></h3><p>Another optimization of Vite is the dependencies pre-bundling. Normally, your dependencies do not change really often unless you are upgrading them, but on the other hand, your user code can change everyday.</p><p>So by treating the user code and dependencies differently, we pre bundles your dependencies into a single file standard ESM that can be understood by the browser. In this way, we ease out the difference of packages shipping different js formats like <code>cjs</code> or node favored modules. It also reduced HTTP request overhead and importing waterfall.</p><p>And this bundling process is also powered by <a href="https://github.com/evanw/esbuild" target="_blank" rel="noopener">esbuild</a>, with over 20x faster performance.</p><h3 id="hot-module-replacement" tabindex="-1">Hot Module Replacement <a class="header-anchor" href="#hot-module-replacement" aria-hidden="true">#</a></h3><p>Another important part of Vite is that it has out-of-box hot module replacement support. Whenever you made a change to your code, the HMR is triggered. It’s smart enough to know which modules would be affected by the changes and replace them efficiently. And we have first-party support for Vue single-file components and React Refresh.</p><p>As Vite is made by Evan, you may think it’s only Vue. Well, initially, it was kind of true, but things are different now.</p><p>From Vite 2.0, it’s now framework-agnostic and Vue is supported through a plugin. It also comes with a bunch of new features and improvements, for example the universal plugin system and first-class SSR. For more details, you check out the links in the slide.</p><p>You can use <code>npm init</code> to create the starter project with the official templates. As you can see, we have supported Vue, React, Preact, Lit Element, Svelte, and even vanilla. It’s not limited to these, we will keep adding more as we go.</p><hr><h2 id="powerful-plugins-system" tabindex="-1">Powerful Plugins System <a class="header-anchor" href="#powerful-plugins-system" aria-hidden="true">#</a></h2><p>Vite’s plugins are compatible with Rollup plugins. This means you can use the huge amount of existing plugins from rollup on Vite.</p><p>You can check out <a href="https://github.com/patak-js/vite-rollup-plugins" target="_blank" rel="noopener">this Vite Rollup Plugins site</a> by our team member <a href="https://github.com/patak-js" target="_blank" rel="noopener">@patak-js</a>. It lists all the compatibility of popular rollup plugins with some demo and guides of how to use them.</p><p>We also have <a href="https://github.com/vitejs/awesome-vite" target="_blank" rel="noopener">an awesome list</a> that lists Vite plugins for different ecosystems. Check it out, I believe you will find some of them useful to you.</p><hr><h2 id="fresh-vue-authoring-experience" tabindex="-1">Fresh Vue Authoring Experience <a class="header-anchor" href="#fresh-vue-authoring-experience" aria-hidden="true">#</a></h2><p>I’d like to feature some Vite plugins for Vue that provide the Fresh authoring experience on creating Vue apps.</p><h3 id="vite-plugin-pages-by-hannoeru" tabindex="-1"><a href="https://github.com/hannoeru/vite-plugin-pages" target="_blank" rel="noopener"><code>vite-plugin-pages</code></a> by <a href="https://github.com/hannoeru" target="_blank" rel="noopener">@hannoeru</a> <a class="header-anchor" href="#vite-plugin-pages-by-hannoeru" aria-hidden="true">#</a></h3><p>It provides Nuxt.js-like file base routing, with dynamic routes support that can be accessed as the props in the page component.</p><p>Only with 3 lines of code, you can set up this feature and use it immediately.</p><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#fff;--s-dark-bg:#121212;color:#393a34;--s-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#1e754f;--s-dark:#4D9375">import</span><span style="color:#999;--s-dark:#666666"> {</span><span style="color:#b07d48;--s-dark:#BD976A"> createRouter</span><span style="color:#999;--s-dark:#666666"> }</span><span style="color:#1e754f;--s-dark:#4D9375"> from</span><span style="color:#b5695999;--s-dark:#C98A7D99"> '</span><span style="color:#b56959;--s-dark:#C98A7D">vue-router</span><span style="color:#b5695999;--s-dark:#C98A7D99">'</span></span>
<span class="line"><span style="color:#1e754f;--s-dark:#4D9375">import</span><span style="color:#b07d48;--s-dark:#BD976A"> routes</span><span style="color:#1e754f;--s-dark:#4D9375"> from</span><span style="color:#b5695999;--s-dark:#C98A7D99"> '</span><span style="color:#b56959;--s-dark:#C98A7D">virtual:generated-pages</span><span style="color:#b5695999;--s-dark:#C98A7D99">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ab5959;--s-dark:#CB7676">const </span><span style="color:#b07d48;--s-dark:#BD976A">router</span><span style="color:#999;--s-dark:#666666"> =</span><span style="color:#59873a;--s-dark:#80A665"> createRouter</span><span style="color:#999;--s-dark:#666666">({ </span><span style="color:#b07d48;--s-dark:#BD976A">routes</span><span style="color:#999;--s-dark:#666666"> })</span></span>
<span class="line"></span></code></pre><p>Check <a href="https://github.com/hannoeru/vite-plugin-pages" target="_blank" rel="noopener">its docs</a> for more.</p><h3 id="vite-plugin-components-by-antfu" tabindex="-1"><a href="https://github.com/hannoeru/vite-plugin-components" target="_blank" rel="noopener"><code>vite-plugin-components</code></a> by <a href="https://github.com/antfu" target="_blank" rel="noopener">@antfu</a> <a class="header-anchor" href="#vite-plugin-components-by-antfu" aria-hidden="true">#</a></h3><p>In Vue, writing the name of the component four times in order to import them is kind of a pain for me. So I made this plugin to do the component auto-importing. Now you can put your components under <code>src/components</code> and then use them everywhere without needing to import them. We also have built-in support for auto importing component libraries with minimal configurations. For now, we have supported Vuetify, Ant Design Vue, Element Plus, Vant, and so on.</p><p>From:</p><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#fff;--s-dark-bg:#121212;color:#393a34;--s-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999;--s-dark:#666666">&lt;</span><span style="color:#1e754f;--s-dark:#4D9375">script</span><span style="color:#999;--s-dark:#666666">&gt;</span></span>
<span class="line"><span style="color:#1e754f;--s-dark:#4D9375">import</span><span style="color:#b07d48;--s-dark:#BD976A"> HelloWorld</span><span style="color:#1e754f;--s-dark:#4D9375"> from</span><span style="color:#b5695999;--s-dark:#C98A7D99"> '</span><span style="color:#b56959;--s-dark:#C98A7D">./src/components/HelloWorld.vue</span><span style="color:#b5695999;--s-dark:#C98A7D99">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1e754f;--s-dark:#4D9375">export</span><span style="color:#1e754f;--s-dark:#4D9375"> default</span><span style="color:#999;--s-dark:#666666"> {</span></span>
<span class="line"><span style="color:#998418;--s-dark:#B8A965">  components</span><span style="color:#999;--s-dark:#666666">:</span><span style="color:#999;--s-dark:#666666"> {</span></span>
<span class="line"><span style="color:#b07d48;--s-dark:#BD976A">    HelloWorld</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">  }</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">}</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">&lt;/</span><span style="color:#1e754f;--s-dark:#4D9375">script</span><span style="color:#999;--s-dark:#666666">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999;--s-dark:#666666">&lt;</span><span style="color:#1e754f;--s-dark:#4D9375">template</span><span style="color:#999;--s-dark:#666666">&gt;</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">  &lt;</span><span style="color:#b31d28;--s-dark:#FDAEB7">HelloWorld</span><span style="color:#b07d48;--s-dark:#BD976A"> msg</span><span style="color:#999;--s-dark:#666666">=</span><span style="color:#b5695999;--s-dark:#C98A7D99">"</span><span style="color:#b56959;--s-dark:#C98A7D">Hello Vue 3.0 + Vite</span><span style="color:#b5695999;--s-dark:#C98A7D99">"</span><span style="color:#999;--s-dark:#666666"> /&gt;</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">&lt;/</span><span style="color:#1e754f;--s-dark:#4D9375">template</span><span style="color:#999;--s-dark:#666666">&gt;</span></span>
<span class="line"></span></code></pre><p>To:</p><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#fff;--s-dark-bg:#121212;color:#393a34;--s-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999;--s-dark:#666666">&lt;</span><span style="color:#1e754f;--s-dark:#4D9375">template</span><span style="color:#999;--s-dark:#666666">&gt;</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">  &lt;</span><span style="color:#b31d28;--s-dark:#FDAEB7">HelloWorld</span><span style="color:#b07d48;--s-dark:#BD976A"> msg</span><span style="color:#999;--s-dark:#666666">=</span><span style="color:#b5695999;--s-dark:#C98A7D99">"</span><span style="color:#b56959;--s-dark:#C98A7D">Hello Vue 3.0 + Vite</span><span style="color:#b5695999;--s-dark:#C98A7D99">"</span><span style="color:#999;--s-dark:#666666"> /&gt;</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">&lt;/</span><span style="color:#1e754f;--s-dark:#4D9375">template</span><span style="color:#999;--s-dark:#666666">&gt;</span></span>
<span class="line"></span></code></pre><h3 id="vite-plugin-icons-by-antfu" tabindex="-1"><a href="https://github.com/hannoeru/vite-plugin-icons" target="_blank" rel="noopener"><code>vite-plugin-icons</code></a> by <a href="https://github.com/antfu" target="_blank" rel="noopener">@antfu</a> <a class="header-anchor" href="#vite-plugin-icons-by-antfu" aria-hidden="true">#</a></h3><p>Another one is <code>vite-plugin-icons</code>. It allows you to use icons from any icon set, for example, Material design icons and Font awesome. Which the on-demand spirit of Vite, this will only ship with the icons that you actually use. So you can say goodbye to the old-school icon font approach that downloads a huge font with all the icons that you don’t actually need.</p><p>It also works well with the component auto importing, and you can use them like magic.</p><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#fff;--s-dark-bg:#121212;color:#393a34;--s-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#999;--s-dark:#666666">&lt;</span><span style="color:#1e754f;--s-dark:#4D9375">template</span><span style="color:#999;--s-dark:#666666">&gt;</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">  &lt;</span><span style="color:#1e754f;--s-dark:#4D9375">i-carbon-accessibility</span><span style="color:#999;--s-dark:#666666">/&gt;</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">  &lt;</span><span style="color:#1e754f;--s-dark:#4D9375">i-mdi-account-box</span><span style="color:#b07d48;--s-dark:#BD976A"> style</span><span style="color:#999;--s-dark:#666666">=</span><span style="color:#b5695999;--s-dark:#C98A7D99">"</span><span style="color:#b56959;--s-dark:#C98A7D">font-size: 2em; color: red</span><span style="color:#b5695999;--s-dark:#C98A7D99">"</span><span style="color:#999;--s-dark:#666666">/&gt;</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">&lt;/</span><span style="color:#1e754f;--s-dark:#4D9375">template</span><span style="color:#999;--s-dark:#666666">&gt;</span></span>
<span class="line"></span></code></pre><h3 id="vite-plugin-windicss-by-antfu" tabindex="-1"><a href="https://github.com/windicss/vite-plugin-windicss" target="_blank" rel="noopener"><code>vite-plugin-windicss</code></a> by <a href="https://github.com/antfu" target="_blank" rel="noopener">@antfu</a> <a class="header-anchor" href="#vite-plugin-windicss-by-antfu" aria-hidden="true">#</a></h3><p>If you have ever used <a href="https://tailwindcss.com/" target="_blank" rel="noopener">Tailwind CSS</a>, you must aware it’s actually quite slow in the dev server as it ships all the utilities with megabytes of CSS to your client. This becomes the slowest part of my Vite app.</p><p>Luckily, we have a new thing called <a href="https://github.com/windicss/windicss" target="_blank" rel="noopener">Windi CSS</a>, which you can think of it as the on-demand Tailwind CSS. Instead of shipping all the combinations of classes and purge them down later. It only generates the classes you actually use. Turns out it can be 20-100x faster than the traditional Tailwind. While it’s on-demand, it also opens up more features like unit auto-inferring. Do check it out if you are using Tailwind.</p><h3 id="try-them-all" tabindex="-1">Try them all <a class="header-anchor" href="#try-them-all" aria-hidden="true">#</a></h3><p>If you found them interesting and want to try it yourself, I also made a starter template call <a href="https://github.com/antfu/vitesse" target="_blank" rel="noopener">Vitesse</a>, with all of them included and more features. Pull it down and check out.</p><p>These are only a small part of our plugins ecosystem, we have more of them available in the <a href="https://github.com/vitejs/awesome-vite" target="_blank" rel="noopener">awesome list</a> do remember to check them out.</p><h3 id="vue-2-for-vite" tabindex="-1">Vue 2 for Vite <a class="header-anchor" href="#vue-2-for-vite" aria-hidden="true">#</a></h3><p>If you are still using Vue 2, no worries, we have your covered!</p><p>While the official Vue plugin is for Vue 3. Another Vite team member <a href="http://github.com/underfin" target="_blank" rel="noopener">@underfin</a> made the plugin <a href="https://github.com/underfin/vite-plugin-vue2" target="_blank" rel="noopener"><code>vite-plugin-vue2</code></a> for Vue 2. With a single line in the config, you are good to go. It’s been wildly adapted already, for example, <a href="https://github.com/nuxt/vite" target="_blank" rel="noopener">Nuxt 2 for Vite</a> is powered on it.</p><p>In the <a href="https://github.com/vitejs/awesome-vite" target="_blank" rel="noopener">awesome list</a>, we have marked the compatibility for each plugin of the Vue 2 support. Many of them are isomorphic to both Vue 3 and 2. If you are going to try Vue 2, you don’t want to miss it.</p><h3 id="legacy-browser-support" tabindex="-1">Legacy Browser Support <a class="header-anchor" href="#legacy-browser-support" aria-hidden="true">#</a></h3><p>Vite uses native ESM on both development and production, but if you want to enable legacy browsers that do not support ESM, no problem, we have it.</p><p>There is an official plugin <a href="https://github.com/vitejs/vite/tree/main/packages/plugin-legacy" target="_blank" rel="noopener"><code>@vitejs/plugin-legacy</code></a> that uses Babel and System JS to transform the modules for legacy support.</p><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#fff;--s-dark-bg:#121212;color:#393a34;--s-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#a0ada0;--s-dark:#758575DD">// vite.config.js</span></span>
<span class="line"><span style="color:#1e754f;--s-dark:#4D9375">import</span><span style="color:#b07d48;--s-dark:#BD976A"> legacy</span><span style="color:#1e754f;--s-dark:#4D9375"> from</span><span style="color:#b5695999;--s-dark:#C98A7D99"> '</span><span style="color:#b56959;--s-dark:#C98A7D">@vitejs/plugin-legacy</span><span style="color:#b5695999;--s-dark:#C98A7D99">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1e754f;--s-dark:#4D9375">export</span><span style="color:#1e754f;--s-dark:#4D9375"> default</span><span style="color:#999;--s-dark:#666666"> {</span></span>
<span class="line"><span style="color:#998418;--s-dark:#B8A965">  plugins</span><span style="color:#999;--s-dark:#666666">: [</span></span>
<span class="line"><span style="color:#59873a;--s-dark:#80A665">    legacy</span><span style="color:#999;--s-dark:#666666">({</span></span>
<span class="line"><span style="color:#998418;--s-dark:#B8A965">      targets</span><span style="color:#999;--s-dark:#666666">: [</span><span style="color:#b5695999;--s-dark:#C98A7D99">'</span><span style="color:#b56959;--s-dark:#C98A7D">defaults</span><span style="color:#b5695999;--s-dark:#C98A7D99">'</span><span style="color:#999;--s-dark:#666666">, </span><span style="color:#b5695999;--s-dark:#C98A7D99">'</span><span style="color:#b56959;--s-dark:#C98A7D">not IE 11</span><span style="color:#b5695999;--s-dark:#C98A7D99">'</span><span style="color:#999;--s-dark:#666666">]</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">    })</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">  ]</span></span>
<span class="line"><span style="color:#999;--s-dark:#666666">}</span></span>
<span class="line"></span></code></pre><p>Check out the docs for more details.</p><hr><h2 id="ecosystem-and-community" tabindex="-1">Ecosystem and Community <a class="header-anchor" href="#ecosystem-and-community" aria-hidden="true">#</a></h2><p>Then, let’s talk a bit about the community.</p><p>I bet you already have this question - Vite is great, but what does Vite mean for the existing Vue ecosystem? Let me help you to find it out.</p><p>How about <a href="https://github.com/vuepress/vuepress-next" target="_blank" rel="noopener">VuePress</a>? It’s actually <a href="https://twitter.com/meteorlxy_cn/status/1370728812971917315" target="_blank" rel="noopener">already supported Vite in the version 2 beta</a>! In v2, you can swap the engine between Webpack and Vite, and have the instant reload from Vite. Check out the docs for how it works!</p><p>As for Nuxt, we actually have some exciting news! The <a href="https://twitter.com/_pi0_/status/1352344462954016768" target="_blank" rel="noopener">upcoming Nuxt 3 will support interchangeable engines between Webpack and Vite</a>. And you can get the benefit of the huge Nuxt community. It will be available as a public beta at Q2 this year. They also release <a href="https://twitter.com/_pi0_/status/1365049110982778884" target="_blank" rel="noopener">an experimental project for Nuxt 2 to support Vite</a> where you can try it today.</p><p>About Vue CLI, as <a href="https://twitter.com/youyuxi/status/1354584410482499585" target="_blank" rel="noopener">Evan mentioned</a>, we weren’t intended to replace Vue CLI with Vite, but it turns out it could be. The long-term goal of Vue CLI is to support Vite with a powerful scaffolding capability and easier to get started.</p><p>We also have a community plugin <a href="https://github.com/IndexXuan/vue-cli-plugin-vite" target="_blank" rel="noopener"><code>vue-cli-plugin-vite</code></a> that enables Vite support in Vue CLI that you can play with it today.</p><hr><h2 id="higher-level-integrations" tabindex="-1">Higher-level Integrations <a class="header-anchor" href="#higher-level-integrations" aria-hidden="true">#</a></h2><p>We also have a community plugin that enables Vite support in Vue CLI that you can try today. And on top of Vite, we are now having some cool higher-level integrations tools.</p><p>The first one is <a href="https://github.com/vuejs/vitepress" target="_blank" rel="noopener">VitePress</a>, a Vite and Vue powered static site generator. Similar to VuePress, but with more opinionated pre-configuration. This project is still experimental but already served as the generator for many official documentation sites, including the Vite docs itself.</p><p><a href="https://github.com/ream/ream" target="_blank" rel="noopener">Ream</a> is a Vite-based framework with the support of fast SSR built-in by <a href="https://github.com/egoist" target="_blank" rel="noopener">@egoist</a>. At the time I am preparing these slides, it’s doing a rewrite to make not only for Vue but also for any frameworks. Stay tuned on that.</p><p>Edge side rendering becomes quite popular recently, and we are also having a tool called <a href="https://github.com/frandiox/vitedge" target="_blank" rel="noopener">Vitedge</a> by <a href="https://github.com/frandiox" target="_blank" rel="noopener">@frandiox</a> to bring it to Vite. Take a look at its repo as well.</p><p>Vite also supports <a href="https://vitejs.dev/guide/backend-integration.html" target="_blank" rel="noopener">backend integrations</a>, now we already have <a href="https://github.com/ElMassimo/vite_ruby" target="_blank" rel="noopener">Vite Ruby</a> by <a href="https://github.com/ElMassimo" target="_blank" rel="noopener">@ElMassimo</a> and <a href="https://github.com/innocenzi/laravel-vite" target="_blank" rel="noopener">Laravel Vite</a>by <a href="https://github.com/innocenzi" target="_blank" rel="noopener">@innocenzi</a> in the community. They leverage Vite to serve the front-end and benefit from Vite’s fast performance.</p><p>You can also set up your own backend integrations easily by following the docs below.</p><hr><h2 id="upcoming" tabindex="-1">Upcoming <a class="header-anchor" href="#upcoming" aria-hidden="true">#</a></h2><p>Not only for Vue and the new tools. The tools you love are also going to support Vite. Here are some news for upcoming things I’d like to share with you.</p><p><a href="https://github.com/sveltejs/kit" target="_blank" rel="noopener">Svelte Kit</a> is the next official build tools for Svelte, and <a href="https://github.com/sveltejs/kit/pull/409" target="_blank" rel="noopener">they are moving from Snowpack to Vite</a>. It’s in the early beta now and you can check it out if it got you interested.</p><p><a href="https://twitter.com/_jessicasachs/status/1354585366620221443" target="_blank" rel="noopener">Cypress is also adding the first-class Vite support</a>. I believe we can see it ready within this year.</p><p>And <a href="https://twitter.com/storybookjs/status/1371894052015239170" target="_blank" rel="noopener">Storybook is also exploring the interchangeable engines for Vite and Snowpack</a>. You can also keep an eye on that.</p><hr><h2 id="start-vite-today" tabindex="-1">Start Vite today! <a class="header-anchor" href="#start-vite-today" aria-hidden="true">#</a></h2><p>We are waiting for you to join our community and start playing with us!</p><p>Just firing up this command in your terminal to get the first impressions!</p><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#fff;--s-dark-bg:#121212;color:#393a34;--s-dark:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#59873a;--s-dark:#80A665">npm</span><span style="color:#b56959;--s-dark:#C98A7D"> init</span><span style="color:#b56959;--s-dark:#C98A7D"> @vitejs/app</span></span>
<span class="line"></span></code></pre><p>That’s all for today. Join the <a href="http://chat.vitejs.dev/" target="_blank" rel="noopener">discord</a> to chat with us and follow us on <a href="https://twitter.com/vite_js" target="_blank" rel="noopener">Twitter</a> to get the latest news.</p><p>See you in the community, thank you!</p></div><!--]--></article><div class="prose m-auto mt-8 mb-8 slide-enter animate-delay-500 print:hidden"><!--[--><span font-mono="" op50="">&gt; </span><span op50="">comment on </span><a href="https://elk.zone/intent/post?text=Reading%20%40antfu%40m.webtoo.ls's%20https%3A%2F%2Fantfu.me%2Fposts%2Fvue-beijing-2021%0A%0AI%20think..." target="_blank" op50="">mastodon</a><span op25=""> / </span><a href="https://twitter.com/intent/tweet?text=Reading%20%40antfu7's%20https%3A%2F%2Fantfu.me%2Fposts%2Fvue-beijing-2021%0A%0AI%20think..." target="_blank" op50="">twitter</a><!--]--><br><span font-mono="" op50="">&gt; </span><a href="/posts" class="font-mono op50 hover:op75"></a></div><!--]--><div class="mt-10 mb-6 prose m-auto flex slide-enter animate-delay-1200!"><span class="text-sm op50"><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="color:inherit">CC BY-NC-SA 4.0</a> 2021-PRESENT © Anthony Fu</span><div class="flex-auto"></div></div></main><!----><!--]--></div><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></body></html>